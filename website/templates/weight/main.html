{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
    google.charts.load('current', {packages: ['corechart', 'controls', 'table']});
    google.charts.setOnLoadCallback(controlsAndDashboards);
      
  function controlsAndDashboards() {

    import {rawData} from "{% static 'js/weightData.js' %}";
    var data = google.visualization.arrayToDataTable(rawData);
    
    console.log(data);

  var dashboard = new google.visualization.Dashboard(document.getElementById('dashboard_div'));


  var chartRangeFilter = new google.visualization.ControlWrapper({
    controlType: 'ChartRangeFilter',
    containerId: 'filter_div',
    options: {
      filterColumnIndex: 0,
      ui: {
        chartType: 'ComboChart',
        chartOptions: {
          colors: ['rgb(255, 159, 64)'],
          height: 70
        }
      }
    }
  });


  var ScatterChart = new google.visualization.ChartWrapper({
    chartType: 'ScatterChart',
    containerId: 'chart1_div',
    options: {
      title:'Body weight Since 2020/12/25',
      height: 200,
      hAxis: {
        textPosition: 'none'
      },
      colors: ['rgb(255, 99, 132)']
    }
  });

  var table = new google.visualization.ChartWrapper({
    chartType: 'Table',
    containerId: 'chart6_div',
    options: {
      height: 120,
      width: '70%'
    }
  });


  //   dashboard.bind(chartRangeFilter, [ScatterChart, table]);
  dashboard.bind(chartRangeFilter, [ScatterChart, table]);

  dashboard.draw(data);

  }
  </script>
    <link rel="stylesheet" href="{% static 'main.css' %}">
  </head>

<body>
  {% include "_navbar.html"%}
  <button>For More Detail</button>
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <div id="dashboard_div">
    <div id="chart1_div"></div>
    <div id="filter_div"></div>
    <div id="chart6_div"></div>
  </div>
</body>
</html>