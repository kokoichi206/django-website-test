{% load static %}

<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>weight</title>
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <script type="text/javascript">
  google.charts.load('current', {packages: ['corechart', 'controls', 'table']});
  google.charts.setOnLoadCallback(controlsAndDashboards);

  function controlsAndDashboards() {
    let rawData = [
    ['time(days)', 'weight'],
    [0.0, 77.5],
    [1.15, 77.1],
    [2.09, 76.5],
    [3.08, 77.3],
    [3.74, 78.1],
    [4.27, 77.1],
    [4.96, 76.4],
    [5.3, 77.3],
    [6.26, 75.5],
    [8.06, 77.2],
    [9.19, 76.4],
    [10.14, 76.8],
    [11.22, 77],
    [12.06, 76.7],
    [12.72, 75.8],
    [13.95, 76.1],
    [17.37, 75.9],
    [18.1, 75.3],
    [19.03, 76.8],
    [19.93, 75.7],
    [20.96, 75.7],
    [22.07, 75.5],
    [23.1, 74.9],
    [23.8, 75],
    [24.81, 76.5],
    [26.0, 75],
    [26.98, 75.2],
    [27.61, 75.2],
    [29.03, 76.7],
    [30.01, 75.7],
    [31.07, 75.9],
    [32.07, 75.3],
    [33.0, 74.9],
    [34.06, 76.3],
    [34.86, 75.9],
    [36.12, 76],
    [37.06, 76.4],
    [38.96, 77.5],
    [39.91, 76.9],
    [41.98, 77],
    [42.86, 76.2],
    [44.0, 76.1],
    [45.02, 75.2],
    [45.88, 75],
    [47.01, 74.6],
    [48.04, 75.3],
    [49.11, 75],
    [50.03, 75.7],
    [55.88, 76.3],
    [57.0, 76.1],
    [57.9, 76.3],
    [58.97, 75.5],
    [59.91, 76.2],
    [61.12, 75.6],    
    ];

    console.log(rawData);
    var data = google.visualization.arrayToDataTable(rawData);
    console.log(data);

  var dashboard = new google.visualization.Dashboard(document.getElementById('dashboard_div'));


  var chartRangeFilter = new google.visualization.ControlWrapper({
    controlType: 'ChartRangeFilter',
    containerId: 'filter_div',
    options: {
      filterColumnIndex: 0,
      ui: {
        chartType: 'ComboChart',
        chartOptions: {
          colors: ['rgb(255, 159, 64)'],
          height: 70
        }
      }
    }
  });


  var ScatterChart = new google.visualization.ChartWrapper({
    chartType: 'ScatterChart',
    containerId: 'chart1_div',
    options: {
      title:'Body weight Since 2020/12/25',
      height: 300,
      hAxis: {
        textPosition: 'none'
      },
      colors: ['rgb(255, 99, 132)']
    }
  });

  var table = new google.visualization.ChartWrapper({
    chartType: 'Table',
    containerId: 'chart6_div',
    options: {
      height: 150,
      width: '80%'
    }
  });


  //   dashboard.bind(chartRangeFilter, [ScatterChart, table]);
  dashboard.bind(chartRangeFilter, [ScatterChart, table]);

  dashboard.draw(data);

  }


  </script>

  <link rel="stylesheet" href="{% static 'main.css' %}">
  </head>

<body>
  {% include "_navbar.html"%}
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <div id="dashboard_div">
    <div style="margin-top: 10pt" id="chart1_div"></div>
    <div style="margin-top: 10pt" id="filter_div"></div>
    <div style="margin: 40pt 60pt;" id="chart6_div"></div>
  </div>
</body>
</html>